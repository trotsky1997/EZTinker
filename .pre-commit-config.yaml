# 简化的 Pre-commit hooks
# 只保留核心检查：Ruff + Pyright
repos:
  # Ruff: 格式化 + lint
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.8.2
    hooks:
      - id: ruff
        name: "Ruff: 格式化 + Lint"
        args: [--fix, --exit-non-zero-on-fix]
        stages: [commit]
        types: [python]

  # Pyright: 类型检查
  - repo: https://github.com/RobertCraigie/pyright-python
    rev: v1.1.391
    hooks:
      - id: pyright
        name: "Pyright: 类型检查"
        args: [--project, pyrightconfig.json]
        verbose: true
        stages: [commit]

# 配置
fail_fast: true  # 一个失败就停止
minimum_pre_commit_version: "2.9.0"

default_language_version:
  python: python3.11

default_stages: [commit]